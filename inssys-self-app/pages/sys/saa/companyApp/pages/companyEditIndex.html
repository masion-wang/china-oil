<section>
    <el-form class="table-line" ref="form" :model="form" :inline="true" :rules="rules" label-width="109px" @submit.prevent="onSubmit">
        <el-collapse v-model="mixinObject.activeNames">
            <el-collapse-item :title="'gTitleBasics' | translate('Basics Data')" name="1">
                <table class="tp-table" width="100%" cellpadding="0" cellspacing="0">
                    <tr>
                        <gv-form-label keyName="ggCompanyVoCompanyCode" defaultName="Department Code" requires :width="3"></gv-form-label>
                        <gv-form-input prop="companyCode" :width="5">
                            <el-input size="mini" maxlength="64" :readonly="query.type != 'add'" v-model="form.companyCode"></el-input>
                        </gv-form-input>

                        <gv-form-label keyName="ggCompanyVoUpperCompanyCode" defaultName="Upper Department Code" :width="3"></gv-form-label>
                        <gv-form-input prop="upperCompanyCode" :width="5">
                            <gv-auto-complete @row-select="selectUpperCompany" :is-readonly="isReadonly" code="findCompany" code-name="companyCode" label-name="companyCode,companyName"
                                v-model="form.upperCompanyCode"></gv-auto-complete>
                        </gv-form-input>

                        <gv-form-label keyName="ggCompanyVoCompanyName" defaultName="Department Name" requires :width="3"></gv-form-label>
                        <gv-form-input prop="companyName" :width="5">
                            <el-input size="mini" maxlength="255" :readonly="isReadonly" v-model="form.companyName"></el-input>
                        </gv-form-input>

                    </tr>
                    <tr>

                        <gv-form-label keyName="ggCompanyVoValidInd" defaultName="ValidInd" requires :width="3"></gv-form-label>
                        <gv-form-input prop="validInd" :width="5">
                            <gv-select size="mini" optionsSet="1" :disabled="isReadonly" codeType="ValidInd" v-model="form.validInd">
                            </gv-select>
                        </gv-form-input>

                        <gv-form-label keyName="ggCompanyVoAddress" defaultName="Department Address" :width="3"></gv-form-label>
                        <gv-form-input prop="companyAddress" :width="5">
                            <el-input size="mini" maxlength="255" :readonly="isReadonly" v-model="form.companyAddress"></el-input>
                        </gv-form-input>
                        <!-- 公司标志 -->
                        <gv-form-label keyName="ggCompanyVoLogo" defaultName="Department Logo" :width="3"></gv-form-label>
                        <gv-form-input prop="companyLogo" :width="5">
                            <form>
                                <input type="file" @change="imgChanged" v-if="query.type !='view'" accept="image/gif, image/jpeg, image/png, image/bmp">
                                <img v-if="query.type !='add'" :src="form.companyLogo" v-model="form.companyLogo" height="30" width="50"></img>
                            </form>
                        </gv-form-input>
                    </tr>
                    <tr>
                        <gv-form-label keyName="ggCompanyVoCompanyEmail" defaultName="Department Email" requires :width="3"></gv-form-label>
                        <gv-form-input prop="email" :width="5">
                            <el-input size="mini" maxlength="60" :readonly="isReadonly" v-model="form.email"></el-input>
                        </gv-form-input>
                        <gv-form-label keyName="ggCompanyVoCompanyEmailPassword" defaultName="Department Email Password" requires :width="3"></gv-form-label>
                        <gv-form-input prop="emailPwd" :width="5">
                            <el-input size="mini" maxlength="60" type="password" :readonly="isReadonly" v-model="form.emailPwd"></el-input>
                        </gv-form-input>
                        <gv-form-label keyName="ggCompanyVoReceiverEmail" defaultName="Default Receiver Email" :width="3"></gv-form-label>
                        <gv-form-input prop="receiverEmail" :width="5">
                            <el-input size="mini" maxlength="60" :readonly="isReadonly" v-model="form.receiverEmail"></el-input>
                        </gv-form-input>
                    </tr>
                    <tr>
                        <gv-form-label keyName="ggCompanyVoSmsSender" defaultName="SMS Sender" :width="3"></gv-form-label>
                        <gv-form-input prop="smsSender" :width="5">
                            <el-input size="mini" maxlength="60" :readonly="isReadonly" v-model="form.smsSender"></el-input>
                        </gv-form-input>
                        <gv-form-label keyName="ggCompanyVoSmsReceiver" defaultName="Default SMS Receiver" :width="3"></gv-form-label>
                        <gv-form-input prop="smsReceiver" :width="5">
                            <el-input size="mini" maxlength="60" :readonly="isReadonly" v-model="form.smsReceiver"></el-input>
                        </gv-form-input>
                    </tr>
                </table>
            </el-collapse-item>

        </el-collapse>
        <div class="block mrgt5 toolbar-btn txt-center">
            <el-form-item>
                <el-button size="mini" v-if="query.type!='view'" type="primary" @click.native="onSubmit()">{{ 'gBtnSave' | translate('Save') }}</el-button>
                <el-button size="mini" v-if="query.type!='view'" @click="resetForm('form')">{{ 'gBtnClear' | translate('Clear') }}</el-button>
                <el-button size="mini" @click="returnPage()">{{ 'gBtnClose' | translate('Close') }}</el-button>
            </el-form-item>
        </div>
    </el-form>
</section>